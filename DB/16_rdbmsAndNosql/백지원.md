# RDBMS와 NoSQL

## 데이터베이스

### 용어 정리

- DataBase
<br>여러 사람에 의해 공유되어 사용될 목적으로 통합하여 관리하는 데이터의 집합.
 

- DBMS
<br>DataBase Management System의 줄임말로, 사용자와 데이터베이스 사이에서 사용자의 요구에 따라 정보를 생성해주고 데이터 베이스를 관리해주는 소프트 웨어.
 

- SQL
<br>Structured Query Language의 줄임말로, 관계형 데이터베이스에 저장된 데이터를 관리하기 위해 설계된 프로그래밍 언어.
 

- 스키마(Schema)
<br>데이터베이스를 구성하는 개체, 속성, 관계 및 제약조건 등에 관해 전반적으로 정의한 메타데이터의 집합.

- 쿼리(Query)
<br> 데이터베이스에 대해서 정보를 요청하는 행위.

### DB 유형

- 계층형 DB
<br> `처음 등장한 DB 유형`입니다. `트리(tree) 형태`로 구성되어 있기 때문에 처음 구성해 놓으면 이를 `변경하기가 까다롭고`, 또 다른 `데이터를 찾아가는 것이 비효율적`이기 때문에 지금은 사용하지 않고 있습니다.

- 망형 DB
<br> `계층형 DB의 문제점을 개선`하기 위해 등장했습니다. 계층형과 다르게 `데이터끼리도 연결된 유연한 구조`이지만 `프로그래머가 모든 구조를 이해해야만 프로그램 작성이 가능`하다는 단점 때문에 계층형과 마찬가지로 지금은 거의 사용하지 않고 있습니다.

- 관계형 DB
관계형 DB(Relational DB)는 줄여서 RDB라고도 부르며, `현재 대부분의 DB`가 관계형 데이터베이스의 형태로 사용되고 있습니다. 일반적인 관계형 데이터베이스(RDB)는 `테이블, 행, 열의 정보를 구조화`하는 방식입니다. RDB는 `테이블(table)이라는 최소 단위로 구성`되며, 이 테이블은 하나 이상의 열(column)과 행(row)으로 이루어져 있습니다. 모든 데이터는 처리 및 데이터 쿼리를 효율적으로 수행하기 위해 일련의 테이블에서 행과 열로 저장됩니다.<br>
<br>관계형 데이터베이스에는 테이블을 조인하여 정보 간 관계 또는 링크를 설정할 수 있는 기능이 있어, 여러 데이터 포인트 간의 관계를 쉽게 이해하고 정보를 얻을 수 있습니다.

<br>

## RDBMS (관계형 데이터베이스 관리 시스템)

위에서 DBMS는 사용자와 데이터베이스 사이에서 사용자의 요구에 따라 정보를 생성해주고 데이터베이스를 관리해 주는 소프트웨어라고 얘기했습니다.
<br> 따라서 `RDBMS는 RDB를 관리하는 시스템`이며 RDB는 관계형 데이터 모델을 기초로 두고 `모든 데이터를 2차원 테이블 형태로 표현`하는 데이터베이스 관리 시스템입니다. 기존의 RDBMS에서의 저장 방식은 SQL에 의해 저장되고 있으며 정해진 스키마에 따라 데이터를 저장하여야 합니다.
 
관계형 데이터베이스(RDMBS)는 아래와 같이 구성된 테이블이 다른 테이블들과 관계를 맺고 모여있는 집합체로 이해할 수 있습니다.

![](https://velog.velcdn.com/images/qorjiwon/post/27d8a445-c231-4280-99c2-92f2b0e29093/image.png)

관계형 데이터베이스에는 핵심적인 특징이 두 가지 있습니다. 데이터가 정해진 데이터 스키마에 따라 테이블에 저장된다는 점과 데이터가 관계를 통해 여러 테이블에 분산된다는 점입니다. 조금 더 쉽게 말하자면 테이블의 구조와 데이터 타입 등을 사전에 정의해야만 하고, 테이블에 정의된 내용에 알맞은 형태의 데이터만 삽입할 수 있는 것입니다.

관계형 데이터베이스(RDMBS)에서는 이러한 관계를 나타내기 위해 외래 키(foreign key)라는 것을 사용합니다.
이러한 테이블간의 관계에서 외래 키를 이용한 테이블 간 Join이 가능하다는 게 RDBMS의 가장 큰 특징입니다.

즉, 정리하면 다음과 같습니다

### RDBMS 장점

- 스키마가 명확하게 정의되어 있다.
- 데이터 무결성을 보장한다.
- 각 데이터를 중복 없이 한 번만 저장한다.

### RDBMS 단점

- 데이터 스키마를 사전에 계획해야 하므로 추후 수정이 어려워 유연성이 떨어진다.
- 관계를 맺고 있어서 조인문이 많은 복잡한 쿼리가 만들어질 수 있다.
- 대체로 수직적 확장만 가능하다.

<br>

## NoSQL(비관계형 데이터베이스)이란?

`Not Only SQL`의 약자로, 위에서 설명한 `RDB 형태의 관계형 데이터베이스가 아닌 다른 형태의 데이터 저장 기술`을 의미하고 있습니다. 또한 NoSQL에서는 RDBMS와는 달리 `테이블 간 관계를 정의하지 않습니다.` 데이터 테이블은 그냥 하나의 테이블이며 테이블 간의 관계를 정의하지 않아 일반적으로 테이블 간 Join도 불가능합니다. 

NoSQL은 빅데이터의 등장으로 인해 데이터와 트래픽이 기하급수적으로 증가함에 따라 RDBMS에 단점인 `성능을 향상시키기 위해` 등장하였습니다. 장비가 좋아야 하는 Scale-Up의 특징이 비용을 기하급수적으로 증가시키기 때문에 데이터 일관성은 포기하되 비용을 고려하여 여러 대의 데이터에 분산하여 저장하는 `Scale-Out을 목표로` 등장하였습니다.

즉, 정리하면 다음과 같습니다

### NoSQL의 장점

- 스키마가 없기 때문에 유연하고 언제든지 저장된 데이터를 조정하고 새로운 필드를 추가할 수 있다.
- 데이터는 애플리케이션이 필요로 하는 형식으로 저장되기 때문에 데이터를 읽어오는 속도가 빨라진다.
- 수직 및 수평 확장이 가능해서 애플리케이션이 발생시키는 모든 읽기와 쓰기 요청 처리가 가능하다.
 
### NoSQL의 단점

- 유연성으로 인해 데이터 구조 결정을 미루게 될 수 있다.
- 데이터 중복을 계속 업데이트해야 한다.
- 데이터가 여러 컬렉션에 중복되어 있기 때문에 수정이 필요한 경우 모든 컬렉션에서 수행해야 한다.

<br>

## RDBMS VS NoSQL, 차이점은 무엇인가?

### 데이터 저장(Storage)

`RDBMS`의 경우 데이터를 SQL 언어를 통해 테이블에 저장합니다. 미리 작성된 스키마를 기반으로 정해진 형식에 맞게 데이터를 저장해야만 합니다.

`NoSQL`의 경우 key-value, document, wide-column, graph 등의 방식으로 데이터를 저장합니다.

### 스키마(Schema)

`RDBMS`를 사용하려면 고정된 스키마가 필요합니다. 처리하려는 데이터 속성별로 열(column)에 대한 정보를 미리 정해야만 데이터 처리가 가능한 것입니다. 스키마는 나중에 변경할 수 있지만, 데이터베이스 전체를 수정하거나 오프라인으로 전환해야 할 수도 있기 때문에 처음에 신중하게 스키마를 정의해야 합니다.

`NoSQL`에서는 관계형 데이터베이스에 비해 유연하게 스키마의 형태를 관리할 수 있습니다. 행을 추가할 때 즉시 새로운 열을 추가할 수 있고, 개별 속성에 대해서 모든 열에 대한 데이터를 반드시 입력하지 않아도 됩니다.

### 쿼리(Query)

`NoSQL`의 쿼리는 데이터 그룹 자체를 조회하는 것에 초점을 두고 있기 때문에 구조화되지 않은 쿼리 언어로도 데이터를 요청할 수 있습니다. 이를 UnQL이라고도 부릅니다.

### 확장성(Scalability)

`SQL` 기반의 관계형 데이터베이스는 수직적으로 확장하며 높은 메모리와 CPU를 사용합니다. 데이터베이스가 구축된 하드웨어의 성능을 많이 이용하므로 `비용이 비싼 편`이며, 여러 개의 서버에 걸쳐서 데이터베이스의 관계를 정의할 수 있지만 `매우 복잡하고 시간이 오래 걸리는 것`이 단점입니다.

`NoSQL`로 구성된 데이터베이스는 반대로 수평적으로 확장합니다. NoSQL 데이터베이스를 위한 서버를 추가로 구축하게 되면 많은 트래픽을 편리하게 처리할 수 있다는 장점이 있습니다. SQL보다 저렴한 범용 하드웨어나 클라우드 기반의 인스턴스에 NoSQL 데이터베이스를 호스팅 할 수 있어 상대적으로 `비용이 저렴`한 것이 장점입니다.

## 어떤 때 어떤 데이터베이스를 사용해야 할까?

![](https://www.whatap.io/ko/blog/173/img/blog_main2.jpg)

### 관계형 데이터베이스(RDBMS)를 사용해야 할 때

1. 데이터베이스의 ACID 성질을 준수해야 하는 소프트웨어를 개발하는 경우
> ACID란 Atomicity(원자성), Consistency(일관성), Isolation(격리성), Durability(지속성)의 약어로, 데이터베이스에서 실행되는 하나의 트랜잭션(Transaction)에 의한 상태의 변화를 수행하는 과정에서, 안전성을 보장하기 위해 필요한 성질을 뜻합니다.
3. 관계를 맺고 있는 데이터가 자주 변경되는 경우
4. 변경될 여지가 없고 명확한 스키마가 사용자와 데이터에게 중요한 경우

### NoSQL 데이터베이스를 사용해야 할 때

1. 정확한 데이터의 구조를 알 수 없거나 변경, 확장될 가능성이 있는 경우
2. 데이터 변경이 잘 없고 읽기가 많은 경우
3. 막대한 양의 데이터를 다뤄야 해서 데이터베이스를 수평으로 확장해야 하는 경우

<br>

### 정리

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FdnlAgh%2FbtrMDRv02qB%2F9uRKREjBvGrSkok0UBF5x1%2Fimg.png)

![alt text](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2F1tmoY%2FbtrKpCUzctL%2FZKTEistTZxh6R4dH7KqRQk%2Fimg.png)

---

### 📌 Reference  

- [RDBMS와 NoSQL의 차이](https://www.whatap.io/ko/blog/173/)

- [[Database] RDBMS와 NoSQL의 차이점](https://khj93.tistory.com/entry/Database-RDBMS%EC%99%80-NOSQL-%EC%B0%A8%EC%9D%B4%EC%A0%90)

- [[DataBase] RDBMS VS NoSQL](https://gwamssoju.tistory.com/99)

- [RDBMS와 NoSQL의 차이점 및 개념 완벽 정리](https://hstory0208.tistory.com/entry/RDBMS%EC%99%80-NoSQL%EC%9D%98-%EC%B0%A8%EC%9D%B4%EC%A0%90-%EB%B0%8F-%EA%B0%9C%EB%85%90-%EC%99%84%EB%B2%BD-%EC%A0%95%EB%A6%AC)

- [[데이터베이스] RDB와 NoSQL의 차이는?](https://hyuuny.tistory.com/158)