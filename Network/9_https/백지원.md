# HTTPS

## λ“¤μ–΄κ°€κΈ° μ•μ„

μ°λ¦¬λ” μ›ΉμΌλ΅ λ§μ€ μΌμ„ ν•  μ μμµλ‹λ‹¤. μ›Ήμ—μ„λ” λ‚΄κ°€ μ›ν•λ” μ •λ³΄λ¥Ό μ—΄λν•λ” κ²ƒλΏλ§ μ•„λ‹λΌ, λ‚΄κ°€ μ…λ ¥ν• μ •λ³΄λ¥Ό μ›Ή μ‚¬μ΄νΈλ¥Ό μ΄μν•λ” νμ‚¬μ μ‹μ¤ν…μΌλ΅ μ „λ‹¬ν•λ” κ²½μ°λ„ λ§μµλ‹λ‹¤. μλ¥Ό λ“¤λ©΄, ν¬ν„Έ μ‚¬μ΄νΈμ— λ‚΄ κ³„μ • μ •λ³΄λ¥Ό μ…λ ¥ν•κ³  λ΅κ·ΈμΈν•λ‹¤κ±°λ‚, μ€ν–‰ μ‚¬μ΄νΈμ— μ ‘μ†ν•μ—¬ κ³„μΆ μ •λ³΄λ¥Ό μ΅°νν•΄ μ΄μ²΄ν•λ” κ²½μ°κ°€ μ΄μ— ν•΄λ‹Ήν•©λ‹λ‹¤. λ§μ•½ λ„κµ°κ°€κ°€ μ΄λ¬ν• κ°μΈ μ •λ³΄λ¥Ό λ°λ λ³΄κ±°λ‚ μ•…μ©ν•λ‹¤λ©΄, μ•μ „ν• μ›Ή μ„ν•‘μ€ λ¶κ°€λ¥ν•  κ²ƒμ…λ‹λ‹¤.

HTTPSλ” μ›Ήμ—μ„ μ •λ³΄λ¥Ό λ³΄νΈν•κΈ° μ„ν• κ°€μ¥ κΈ°λ³Έμ μΈ κΈ°μ μ΄λΌκ³  ν•  μ μμµλ‹λ‹¤. μ§€κΈλ¶€ν„° HTTPSκ°€ μ–΄λ–¤ λ³΄μ• κΈ°μ λ΅ λΈλΌμ°μ €μ™€ μ›Ή μ„λ²„ μ‚¬μ΄μ ν†µμ‹ μ„ μ§€ν‚¬ μ μλ”μ§€ μ•μ•„λ³΄κ² μµλ‹λ‹¤.

<br>

# π”’  HTTPS (Hypertext Transfer Protocol Secure)

![Alt text](https://yozm.wishket.com/media/news/1852/image001.png)

HTTPSλ” μ•μ „ν• ν†µμ‹ μ„ μ„ν•΄ μ •λ³΄λ¥Ό `μ•”νΈν™”`ν•©λ‹λ‹¤. μ•”νΈν™”λ€ μΌλ°μ μΈ ν‰λ¬Έμ„ μ•μ•„λ³Ό μ μ—†λ„λ΅ μ•”νΈν™”ν•μ—¬ μ•”νΈλ¬ΈμΌλ΅ λ§λ“λ” κ³Όμ •μ…λ‹λ‹¤. κ°μΈ μ •λ³΄κ°€ λ‹΄κΈ΄ ν‰λ¬Έμ„ μ•”νΈν™”ν•κ³ , μ΄λ ‡κ² λ§λ“¤μ–΄μ§„ μ•”νΈλ¬Έμ„ μƒλ€λ°©μ—κ² μ „λ‹¬ν•λ©΄, μƒλ€λ°©μ€ μ΄λ¥Ό λ‹¤μ‹ λ³µνΈν™” ν•μ—¬ μ›λμ ν‰λ¬ΈμΌλ΅ μ—΄λν•  μ μμµλ‹λ‹¤. μΈν„°λ„· μ½ν…μΈ λ¥Ό μ „λ‹¬ν•λ” TCP ν”„λ΅ν† μ½μ μΌμΆ…μΈ HTTPμ— S(Secure) κΈ°λ¥μ„ λ”ν• κ²ƒμ…λ‹λ‹¤.

HTTPSμ μ›μ² κΈ°μ λ΅λ” SSL(Secure Socket Layer)κ³Ό TLS(Transport Layer Security) μ „μ†΅ κΈ°μ μ΄ μμµλ‹λ‹¤. λ‹¨μ–΄μ—μ„ μ• μ μλ“―, μ•μ „ν• κ³„μΈµμ„ μ›Ή ν†µμ‹ μ— μ¶”κ°€ν•λ” λ°©μ‹μ…λ‹λ‹¤. μ΄ κΈ°μ μ„ μν–‰ν•κΈ° μ„ν•΄ μ›Ή μ„λ²„μ— μ„¤μΉν•λ” κ²ƒμ΄ SSL/TLS μΈμ¦μ„μ…λ‹λ‹¤. TLSλ” SSLμ κ°μ„  λ²„μ „μΌλ΅, μµμ‹  μΈμ¦μ„λ” λ€λ¶€λ¶„ TLSλ¥Ό μ‚¬μ©ν•μ§€λ§, νΈμμ μΌλ΅ SSL μΈμ¦μ„λΌκ³  λ§ν•©λ‹λ‹¤. μ›Ή λΈλΌμ°μ €λ” κ³µμ‹ λ ¥ μλ” μΈμ¦μ„μ μ •λ³΄λ¥Ό λΈλΌμ°μ € λ‚΄λ¶€μ— λ³΄κ΄€ν•κ³  μμΌλ©°, μ ‘μ†ν•λ” μ›Ή μ‚¬μ΄νΈμ— λ―Ώμ„λ§ν• μΈμ¦μ„κ°€ μ„¤μΉλμ–΄ μλ”μ§€ ν™•μΈν•©λ‹λ‹¤.

HTTPSλ” μ•μ „ν• λ°μ΄ν„°μ μ „λ‹¬μ΄ λΈλΌμ°μ €μ™€ μ›Ή μ„λ²„ μ‚¬μ΄μ μ „λ‹¬ κµ¬κ°„μ—μ„ μ΄λ£¨μ–΄μ§€κΈ° λ•λ¬Έμ—, λ³΄μ• μ±„λ„(secure channel), μ „μ†΅ λ³΄μ•(secure transit)μ΄λΌκ³  λ¶€λ¥΄κΈ°λ„ ν•©λ‹λ‹¤.

<br>

## β”οΈ  TCP μ—°κ²°μ λ³΄μ•: TLS

SSL ν”„λ΅ν† μ½, TLS ν”„λ΅ν† μ½ ν—·κ°λ¦΄ μ μμµλ‹λ‹¤.

SSL ν”„λ΅ν† μ½μ€ μ›λ λ„·μ¤μΌ€μ΄ν”„(Netscape)κ°€ κ³ μ•ν–μ§€λ§ λ„·μ¤μΌ€μ΄ν”„κ°€ SSL ν†µμ κ¶μ„ IETF[RFC 4346]λ΅ λ„κΈ°λ©΄μ„ TLSλ΅ ν‘μ¤€ν™”λμ—μµλ‹λ‹¤.

μ¦‰, SSL ν”„λ΅ν† μ½μ—μ„ TLS ν”„λ΅ν† μ½λ΅ λ°μ „ν–λ‹¤κ³  λ³΄λ©΄ λκ² μµλ‹λ‹¤.

### μ•μ „ν• ν†µμ‹ μ΄λ€

**μ•μ „ν• ν†µμ‹ **μ—λ” 3κ°€μ§€ νΉμ„±μ΄ μ”κµ¬λ©λ‹λ‹¤.

1. `κΈ°λ°€μ„±` : μ†΅μ‹ μμ™€ μ§€μ •λ μμ‹ μλ§μ΄ μ „μ†΅λλ” λ©”μ‹μ§€ λ‚΄μ©μ„ μ΄ν•΄ν•  μ μμ–΄μ•Ό ν•λ‹¤.<br>
>κΈ°λ°€μ„±μ΄ μ§€μΌμ§€μ§€ μ•λ”λ‹¤λ©΄ μΉ¨μ…μκ°€ λ©”μ‹μ§€λ¥Ό κ°€λ΅μ±„μ„ λ‚΄μ©μ„ μ—΄λν•κ³  λ―Όκ°ν• μ •λ³΄κ°€ λ…Έμ¶λ  μ μμµλ‹λ‹¤.
2. `λ©”μ‹μ§€ λ¬΄κ²°μ„±` : ν†µμ‹ ν•λ” λ‚΄μ©μ΄ μ „μ†΅ λ„μ¤‘μ— λ³€κ²½λμ§€ μ•μ•„μ•Ό ν•λ‹¤.<br>
>λ©”μ‹μ§€ λ¬΄κ²°μ„±μ΄ μ§€μΌμ§€μ§€ μ•μ€ κ²½μ° μΉ¨μ„μκ°€ λ‚΄μ©μ„ μ¤‘κ°„μ—μ„ κ°€λ΅μ±„ μμ •ν•  μ μμµλ‹λ‹¤.
3. `μΆ…λ‹¨μ  μΈμ¦` : μ†΅μ‹ μμ™€ μμ‹ μλ” ν†µμ‹ μ— μ°Έμ—¬ν•λ” μƒλ€λ°©μ΄ μ‹¤μ  λ„κµ¬μΈμ§€ ν™•μΈν•κΈ° μ„ν•΄ μƒλ€λ°©μ μ‹ μ›μ„ ν™•μΈν•  μ μμ–΄μ•Ό ν•λ‹¤.<br>
>μΆ…λ‹¨μ  μΈμ¦μ΄ λ¶κ°€λ¥ν• κ²½μ° λ„κµ°κ°€ μ‚¬μ©μκ°€ μ ‘μ†ν•λ ¤λ” μ‚¬μ΄νΈμ™€ μ μ‚¬ν• μ‚¬μ΄νΈλ¥Ό λ§λ“¤μ–΄ μ‚¬μ©μλ΅λ¶€ν„° λ, κ°μΈ μ •λ³΄ λ“±μ„ μ–»κ³  λ‹¬μ•„λ‚  μ μμµλ‹λ‹¤.

TLSλ” μ΄λ¬ν• μ„ν—μ„ μ—†μ• κ³  TCPλ¥Ό ν–¥μƒν•¨μΌλ΅μ¨ λ¬Έμ λ¥Ό ν•΄κ²°ν•©λ‹λ‹¤.

## β”οΈ μ•”νΈν™” λ°©μ‹

### 1. λ€μΉ­ν‚¤ μ•”νΈν™”

![](https://velog.velcdn.com/images/qorjiwon/post/0f77b294-8e53-435b-a0e9-736fa46f58da/image.png)


> μ•”νΈν™”λ¥Ό ν•  λ•μ™€ λ³µνΈν™”λ¥Ό ν•  λ• **κ°™μ€ μ•”νΈν‚¤**λ¥Ό μ‚¬μ©ν•λ” μ•κ³ λ¦¬μ¦

λ€μΉ­ν‚¤ μ•”νΈν™” λ°©μ‹μ€ λ€λ¬Έμ μ—΄μ‡ μ™€ κ°™μµλ‹λ‹¤. μλ¬Όμ‡ λ¥Ό μ κ·Ό μ—΄μ‡ λ΅ κ·Έ μλ¬Όμ‡ λ¥Ό λ‹¤μ‹ μ—΄ μ μμµλ‹λ‹¤.

ν•μ§€λ§ κ·Έ ν‚¤λ¥Ό μƒμ–΄λ²„λ¦°λ‹¤λ©΄ λ„κµ°μ§€ λ¨λ¥΄λ” μ‚¬λμ΄ μ°λ¦¬ μ§‘μ— λ¬Έμ„ μ—΄ μ μλ“―, λ€μΉ­ν‚¤κ°€ κ³µκ°λλ‹¤λ©΄ μ  3μκ°€ λ°μ΄ν„°λ¥Ό μ—΄μ–΄λ³Ό μ μκΈ° λ•λ¬Έμ— μ„ν—ν•©λ‹λ‹¤.

### 2. κ³µκ°ν‚¤ μ•”νΈν™”

![](https://velog.velcdn.com/images/qorjiwon/post/eff3f106-251a-4db0-8c3e-8be6e94ecbaf/image.png)

> λ©”μ‹μ§€ μ•”νΈν™” ν•λ” ν‚¤μ™€ λ³µνΈν™” ν•λ” **ν‚¤κ°€ λ‹¤λ¥Έ** μ•κ³ λ¦¬μ¦ (κ³µκ°ν‚¤μ™€ λΉ„κ³µκ°ν‚¤)

μ†΅μ‹ μμ™€ μμ‹ μλ” κ°κ° μ•”νΈν™” ν‚¤μ™€ λ³µνΈν™” ν‚¤ λ‘ κ°λ¥Ό κ°€μ§€λ”λ°, μ΄κ²ƒμ„ <u>ν‚¤νμ–΄(key pair)</u>λΌκ³  λ¶€λ¦…λ‹λ‹¤.

1. **κ³µκ°ν‚¤** (public key)
2. **λΉ„κ³µκ°ν‚¤** = κ°μΈν‚¤ = λΉ„λ°€ν‚¤ (private key)

#### κ°„λ‹¨ν• μ΄ν•΄

κ³µκ°ν‚¤ μ•”νΈν™” λ°©μ‹μ€ μ•”νΈν•™μ μΌλ΅ μ—°κ΄€λ λ‘ κ°μ ν‚¤λ¥Ό λ§λ“¤μ–΄μ„ ν•λ‚λ” μκΈ°κ°€ μ•μ „ν•κ² λ³΄κ΄€ν•κ³  λ‹¤λ¥Έ ν•λ‚λ” μƒλ€λ°©μ—κ² κ³µκ°ν•©λ‹λ‹¤. μμ‹ μκ°€ μ†΅μ‹ μμ—κ² κ³µκ°ν‚¤λ¥Ό μ£Όλ©΄, μ†΅μ‹ μλ” κ³µκ°ν‚¤λ΅ λ¬Έμ„λ¥Ό μ•”νΈν™”ν•μ—¬ μμ‹ μμ—κ² μ „μ†΅ν•©λ‹λ‹¤. κ·ΈλΌ μμ‹ μλ” κ°μΈν‚¤λ΅ λ¬Έμ„λ¥Ό λ³µνΈν™”ν•μ—¬ λ‚΄μ©μ„ ν™•μΈν•  μ μκ² λ©λ‹λ‹¤.

<br>

### β”οΈ  TLS  ν•Έλ“μ…°μ΄ν¬(handshake)

TLSλ¥Ό μ–΄λ–»κ² μ‚¬μ©ν•λ”μ§€ ν° κ·Έλ¦Όμ„ μ΄ν•΄ν•κΈ° μ„ν•΄μ„ μ•„λ λ‹¨μν™”λ κ·Έλ¦ΌμΌλ΅ μ‚΄ν΄λ΄…μ‹λ‹¤.

μ΄ κ³Όμ •μ€ μ„Έ λ‹¨κ³„λ΅ λ‚λ μ Έ μμµλ‹λ‹¤.

```
1. ν•Έλ“μ…°μ΄ν¬(handshake)
2. ν‚¤ μ λ„(key derivation)
3. λ°μ΄ν„° μ „μ†΅(data transfer)
```

μ„λ²„λ” κ°μΈν‚¤, κ³µκ°ν‚¤λ¥Ό κ°€μ§€κ³  μμΌλ©° μ‹ λΆ°ν•  μ μλ” CA κΈ°μ—…μ— κ³µκ°ν‚¤ κ΄€λ¦¬λ¥Ό λ¶€νƒν•λ©° κ³„μ•½μ„ ν•©λ‹λ‹¤.

\* CA(Certificate Authority) : κ³µκ°ν‚¤λ¥Ό μ €μ¥ν•΄μ£Όλ” μ‹ λΆ°μ„±μ΄ κ²€μ¦λ λ―Όκ°„κΈ°μ—…

```
a) TCP μ—°κ²°μ„ μ„¤λ¦½ν•λ‹¤.

b) μ—°κ²°μ΄ μ„¤λ¦½λλ©΄ ν΄λΌμ΄μ–ΈνΈλ” ν—¬λ΅(hello)λ©”μ„Έμ§€λ¥Ό λ³΄λ‚΄κ³ , μ„λ²„λ” κ³µκ°ν‚¤λ¥Ό λ‹΄μ€ μΈμ¦μ„λ΅ μ‘λ‹µν•λ‹¤.

(μ΄λ• μΈμ¦μ„λ” CA μΈμ¦μ„ λ°›μ•κΈ° λ•λ¬Έμ—, ν΄λΌμ΄μ–ΈνΈλ” μΈμ¦μ„ λ‚΄ κ³µκ°ν‚¤κ°€ μ„λ²„μ κ²ƒμ΄λΌλ” κ²ƒμ„ μ‹ λΆ°ν•  μ μλ‹¤.)

c) ν΄λΌμ΄μ–ΈνΈλ” MS(Master Secret)μ„ μ„λ²„μ κ³µκ°ν‚¤λ΅ μ•”νΈν™”ν•μ—¬ λ³΄λ‚΄λ©΄, μ„λ²„λ” κ°μΈν‚¤λ΅ λ³µνΈν™”ν•λ‹¤.
```

TLS ν•Έλ“μ…°μ΄ν¬ κ³Όμ •μ΄ λλ‚κ³  HTTPS ν†µμ‹ μ„ μ‹μ‘ν•©λ‹λ‹¤.

<br>

μ΄ κ³Όμ •μ—μ„ TLS μΈμ¦μ„μ—λ” λ€μΉ­ν‚¤ λ°©μ‹κ³Ό κ³µκ°ν‚¤ λ°©μ‹ λ¨λ‘ μ‚¬μ©ν•©λ‹λ‹¤. λ¨λ“  κ²ƒμ„ κ³µκ°ν‚¤ λ°©μ‹μΌλ΅ ν•λ‹¤λ©΄ μ›Ή μ„λ²„μ™€ λΈλΌμ°μ €μ— λ§μ€ λ¶€λ‹΄μ΄ λκΈ° λ•λ¬Έμ…λ‹λ‹¤. κ·Έλμ„ TLS ν•Έλ“μ…°μ΄ν¬ κ³Όμ •μ€ κ³µκ°ν‚¤ λ°©μ‹, κ·Έ μ΄ν›„μ HTTPS ν†µμ‹ μ€ λ€μΉ­ν‚¤ λ°©μ‹μ„ μ‚¬μ©ν•©λ‹λ‹¤.

<br>

---

### π“ Reference

- [μ•μ „ν• μ›Ήμ„ μ„ν•΄ HTTPS μ΄ν•΄ν•κΈ°: β‘ HTTPSμ μ‘λ™ μ›λ¦¬](https://yozm.wishket.com/magazine/detail/1852/)

- [[μ›Ήκ°λ°μ ν•„μ2] HTTPS μ‘λ™ μ›λ¦¬](https://hello-judy-world.tistory.com/201)

- [κ³µκ°ν‚¤ μ•”νΈν™” λ°©μ‹](https://namu.wiki/w/%EA%B3%B5%EA%B0%9C%ED%82%A4%20%EC%95%94%ED%98%B8%ED%99%94%20%EB%B0%A9%EC%8B%9D)

- [[Web] HTTPμ™€ HTTPSμ κ°λ… λ° μ°¨μ΄μ ](https://mangkyu.tistory.com/98)