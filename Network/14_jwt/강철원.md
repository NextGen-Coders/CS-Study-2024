# π“ JWT       

JWT(Json Web Token) λ§ κ·Έλ€λ΅ μ›Ήμ—μ„ μ‚¬μ©λλ” JSON ν•μ‹μ ν† ν°μ— λ€ν• ν‘μ¤€ κ·κ²©μΈλ° μ£Όλ΅ μ‚¬μ©μμ μΈμ¦λλ” μΈκ°€μ •λ³΄λ¥Ό μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈκ°„μ— μ•μ „ν•κ² μ£Όκ³  λ°›κΈ° μ„ν•΄μ„ μ‚¬μ©λ©λ‹λ‹¤.  

μ΅°κΈ λ” μ•κΈ° μ‰½κ² κ°„λ‹¨ν• μ΄μ•ΌκΈ°λ¥Ό ν†µν•΄ JWTμ—λ€ν•΄ μ•μ•„λ³΄κ² μµλ‹λ‹¤.

μ›λ‚  μ›μ μ—, λ©€κ³  λ¨Ό λ””μ§€ν„Έ μ™•κµ­μ—λ” μ •λ³΄λ¥Ό μ•μ „ν•κ² μ „λ‹¬ν•λ” λ°©λ²•μ„ μ°Ύκ³  μλ” λ§μ€ μ‚¬λλ“¤μ΄ μ‚΄κ³  μμ—μµλ‹λ‹¤. μ΄ μ™•κµ­μ—λ” λ‹¤μ–‘ν• μ •λ³΄κ°€ μ΅΄μ¬ν–λ”λ°, μ¤‘μ”ν• λ¬Έμ„λ¶€ν„° μ‚¬μ†ν• λ…ΈνΈκΉμ§€ λ¨λ‘ μ¤‘μ”ν• μ—­ν• μ„ ν–μµλ‹λ‹¤. μ™•κµ­ μ‚¬λλ“¤μ€ μ΄ μ •λ³΄λ¥Ό μ™•κµ­μ λ‹¤λ¥Έ κ³³μΌλ΅ μ•μ „ν•κ² λ³΄λ‚΄κ³  μ‹¶μ–΄ ν–μ§€λ§, λ„μ¤‘μ— λ‚μ ν•΄μ»¤λ“¤μ΄ μ •λ³΄λ¥Ό ν›”μΉκ±°λ‚ λ³€κ²½ν•λ” μΌμ΄ λΉλ²ν λ°μƒν–μµλ‹λ‹¤.

κ·Έλ¬λ μ–΄λ λ‚ , JSON Web Token(JWT)μ΄λΌλ” λ§λ²•μ‚¬κ°€ λ‚νƒ€λ‚¬μµλ‹λ‹¤. JWT λ§λ²•μ‚¬λ” μ •λ³΄λ¥Ό μ‘μ€ λ©”μ‹μ§€λ΅ λ³€ν™ν•λ” νΉλ³„ν• λ§λ²•μ„ κ°€μ§€κ³  μμ—μµλ‹λ‹¤. μ΄ λ©”μ‹μ§€λ” μ„Έ λ¶€λ¶„μΌλ΅ λ‚λ‰μ—μµλ‹λ‹¤. μ²« λ²μ§Έ λ¶€λ¶„μ€ 'ν—¤λ”'λΌ λ¶λ¦¬λ©°, λ©”μ‹μ§€κ°€ μ–΄λ–¤ λ§λ²•(μ•κ³ λ¦¬μ¦)μΌλ΅ λ³΄νΈλλ”μ§€ μ•λ ¤μ£Όμ—μµλ‹λ‹¤. λ‘ λ²μ§Έ λ¶€λ¶„μ€ 'νμ΄λ΅λ“'λΌ ν•μ—¬, μ „λ‹¬ν•κ³ μ ν•λ” μ‹¤μ  μ •λ³΄(μ£Όμ¥)λ¥Ό λ‹΄κ³  μμ—μµλ‹λ‹¤. λ§μ§€λ§‰ μ„Έ λ²μ§Έ λ¶€λ¶„μ€ 'μ„λ…'μ΄λΌ λ¶λ¦¬λ©°, λ©”μ‹μ§€κ°€ λ³€κ²½λμ§€ μ•μ•μμ„ μ¦λ…ν•λ” λ§λ²•μ μΈμ¥μ΄μ—μµλ‹λ‹¤.

JWT λ§λ²•μ‚¬λ” μ΄ λ©”μ‹μ§€λ¥Ό μƒμ„±ν•  λ•, μμ‹ λ§μ λΉ„λ°€ ν‚¤ λλ” κ³µκ° ν‚¤μ™€ λΉ„λ°€ ν‚¤ μμ„ μ‚¬μ©ν•μ—¬ μ„λ…ν–μµλ‹λ‹¤. μ΄ μ„λ… λ•λ¶„μ—, λ©”μ‹μ§€λ¥Ό λ°›λ” μ΄λ“¤μ€ λ©”μ‹μ§€κ°€ μ§„μ§ JWT λ§λ²•μ‚¬λ΅λ¶€ν„° μ¨ κ²ƒμ΄λ©°, λ„μ¤‘μ— λ³€κ²½λμ§€ μ•μ•μμ„ ν™•μ‹ ν•  μ μμ—μµλ‹λ‹¤.

μ™•κµ­ μ‚¬λλ“¤μ€ μ΄ λ§λ²•μ„ μ‚¬μ©ν•μ—¬ μ¤‘μ”ν• μ •λ³΄λ¥Ό μ „λ‹¬ν•κΈ° μ‹μ‘ν–μµλ‹λ‹¤. μλ¥Ό λ“¤μ–΄, μ™•κµ­μ λ¬Έμ§€κΈ°λ” μ„±λ¬Έμ„ μ§€ν‚¤λ©°, λ“¤μ–΄μ¤λ ¤λ” μ΄λ“¤μ΄ μ λ€λ΅ λ JWT λ©”μ‹μ§€λ¥Ό κ°€μ§€κ³  μλ”μ§€ ν™•μΈν–μµλ‹λ‹¤. μ¬λ°”λ¥Έ λ©”μ‹μ§€λ¥Ό κ°€μ§„ μλ§μ΄ μ„± μ•μΌλ΅ λ“¤μ–΄κ° μ μμ—κ³ , μ΄λ” μ™•κµ­μ„ λ”μ± μ•μ „ν•κ² λ§λ“¤μ—μµλ‹λ‹¤.

JWT λ§λ²•μ‚¬λ” λν•, λ©”μ‹μ§€κ°€ λ„λ¬΄ μ¤λ«λ™μ• μ‚¬μ©λμ§€ μ•λ„λ΅ 'λ§λ£ μ‹κ°„'μ„ μ„¤μ •ν•λ” λ§λ²•λ„ κ°€λ¥΄μ³ μ£Όμ—μµλ‹λ‹¤. μ΄λ΅ μΈν•΄, μ¤λλ λ©”μ‹μ§€λ” λ” μ΄μƒ μ ν¨ν•μ§€ μ•κ² λμ–΄, λ‚μ λ§μμ„ κ°€μ§„ μ΄λ“¤μ΄ μ¤λλ λ©”μ‹μ§€λ¥Ό μ¬μ‚¬μ©ν•λ” μΌμ„ λ°©μ§€ν•  μ μμ—μµλ‹λ‹¤.

κ·Έ λ•λ¶„μ— μ™•κµ­μ€ μ •λ³΄λ¥Ό λ”μ± μ•μ „ν•κ³  ν¨μ¨μ μΌλ΅ μ£Όκ³ λ°›μ„ μ μκ² λμ—κ³ , λ¨λ“  μ‚¬λλ“¤μ€ JWT λ§λ²•μ‚¬μ λ§λ²•μ— κ°μ‚¬ν•λ©° ν–‰λ³µν•κ² μ‚΄μ•μµλ‹λ‹¤. μ •λ³΄λ¥Ό μ•μ „ν•κ² μ „λ‹¬ν•λ” λ¬Έμ λ” μμ›ν ν•΄κ²°λμ—κ³ , μ™•κµ­μ€ ν‰ν™”λ΅­κ² λ²μμ„ μ΄μ–΄κ°”μµλ‹λ‹¤.

<br>

## π“ ν† ν°μ΄ λ¬΄μ—‡μ΄λ©° μ™ ν•„μ”ν•κ°€?

μ„μ—μ„λ„ μ„¤λ…λ“λ Έμ§€λ§ μΈμ¦ μ„λ²„κ°€ μ •λ³΄λ¥Ό μΌλ° JSON κ°μ²΄λ΅ λ³΄λ‚Ό μ μ—†λ” μ΄μ μ™€ μ΄λ¥Ό `ν† ν°`μΌλ΅ λ³€ν™ν•΄μ•Ό ν•λ” μ΄μ μ— λ€ν•΄μ„ μ •λ¦¬ν•΄λ³΄κ² μµλ‹λ‹¤.

μΈμ¦ μ„λ²„κ°€ μΌλ° JSONμΌλ΅ μ •λ³΄λ¥Ό μ „μ†΅ν•λ‹¤λ©΄, ν΄λΌμ΄μ–ΈνΈ μ• ν”λ¦¬μΌ€μ΄μ…μ APIλ” μμ‹ μ΄ λ°›λ” λ‚΄μ©μ΄ μ •ν™•ν•μ§€λ¥Ό κ²€μ¦ν•  λ°©λ²•μ΄ μ—†μµλ‹λ‹¤. μ•…μμ μΈ κ³µκ²©μκ°€ μλ¥Ό λ“¤μ–΄ μ‚¬μ©μ IDλ¥Ό λ³€κ²½ν•  μ μμΌλ©°, μ• ν”λ¦¬μΌ€μ΄μ…μ APIλ” κ·Έλ¬ν• λ³€κ²½ μ‚¬μ‹¤μ„ μ• λ°©λ²•μ΄ μ—†μµλ‹λ‹¤.

μ΄λ¬ν• λ³΄μ• λ¬Έμ λ΅ μΈν•΄, μΈμ¦ μ„λ²„λ” μ΄ μ •λ³΄λ¥Ό ν΄λΌμ΄μ–ΈνΈ μ• ν”λ¦¬μΌ€μ΄μ…μ΄ κ²€μ¦ν•  μ μλ” λ°©μ‹μΌλ΅ μ „μ†΅ν•΄μ•Ό ν•©λ‹λ‹¤.   
μ—¬κΈ°μ„ 'ν† ν°'μ κ°λ…μ΄ λ“±μ¥ν•©λ‹λ‹¤.  

κ°„λ‹¨ν λ§ν•΄, ν† ν°μ€ μΌλ¶€ μ •λ³΄λ¥Ό μ•μ „ν•κ² κ²€μ¦ν•  μ μλ” λ¬Έμμ—΄μ…λ‹λ‹¤. μ΄λ” λ°μ΄ν„°λ² μ΄μ¤ λ‚΄μ IDλ¥Ό κ°€λ¦¬ν‚¤λ” μ„μμ μ•νλ²³κ³Ό μ«μμ μ΅°ν•©μ΄ λ  μλ„ μκ³ , ν΄λΌμ΄μ–ΈνΈκ°€ μκ°€ κ²€μ¦ν•  μ μ‡λ” μΈμ½”λ”©λ JSON(JWTsλ΅ μ•λ ¤μ§)μ΄ λ  μλ„ μμµλ‹λ‹¤.

<br>

## π“ JWTμ κµ¬μ΅°

JWTλ” μ„Έ λ¶€λ¶„μΌλ΅ κµ¬μ„±λ©λ‹λ‹¤.

<img width="680" alt="image" src="https://github.com/NextGen-Coders/CS-Study-2024/assets/76567238/87a8d404-d5d3-4c0b-a87a-6739f66f7374">

- ν—¤λ” : λ‘ λ¶€λ¶„μΌλ΅ κµ¬μ„±λ©λ‹λ‹¤.
    - μ‚¬μ©λλ” μ„λ… μ•κ³ λ¦¬μ¦
    - ν† ν° μ ν•
- νμ΄λ΅λ“ :νμ΄λ΅λ“μ—λ” ν΄λ μ„ λλ” JSON κ°μ²΄κ°€ ν¬ν•¨λ©λ‹λ‹¤.
- μ„λ…: JSONνμ΄λ΅λ“μ λ¬΄κ²°μ„±μ„ ν™•μΈν•λ” λ° μ‚¬μ©ν•  μ μλ” μ•”νΈν™” μ•κ³ λ¦¬μ¦μ„ ν†µν•΄ μƒμ„±λ λ¬Έμμ—΄ μ…λ‹λ‹¤.

<img width="604" alt="image" src="https://github.com/NextGen-Coders/CS-Study-2024/assets/76567238/41527d7f-e65b-48c5-89da-e718a3eaed75">

<μ¶μ²: supertokens>

<br>

## π“ JWT λ™μ‘ λ°©μ‹

<img width="625" alt="image" src="https://github.com/NextGen-Coders/CS-Study-2024/assets/76567238/1754021e-879b-4559-ba3a-1f50dd5c0393">

1. μ‚¬μ©μκ°€ IDμ™€ PWλ¥Ό μ…λ ¥ν•΄μ„ λ΅κ·ΈμΈ μ”μ²­μ„ ν•λ‹¤.
2. μ„λ²„λ” νμ› DBμ— λ“¤μ–΄κ°€ μλ” μ‚¬μ©μμΈμ§€ ν™•μΈν•λ‹¤.
3. ν™•μΈμ΄ λλ©΄ μ„λ²„λ” λ΅κ·ΈμΈ μ”μ²­ ν™•μΈ ν›„, secret keyλ¥Ό ν†µν•΄μ„ ν† ν°μ„ λ°κΈ‰ν•λ‹¤.
4. μ΄κ²ƒμ„ ν΄λΌμ΄μ–ΈνΈμ— μ „λ‹¬ν•λ‹¤.
5. μ„λΉ„μ¤ μ”μ²­κ³Ό κ¶ν•μ„ ν™•μΈν•κΈ° μ„ν•΄ ν—¤λ”μ— JWT μ”μ²­μ„ ν•λ‹¤.
6. λ°μ΄ν„°λ¥Ό ν™•μΈν• ν›„ JWTμ—μ„ μ‚¬μ©μ μ •λ³΄λ¥Ό ν™•μΈν•λ‹¤.
7. ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ— λ€ν• μ‘λ‹µκ³Ό μ”μ²­ν• λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•λ‹¤.

<br>

## π“ JWTμ μ¥μ κ³Ό λ‹¨μ 

### β… μ¥μ 

- λ³΄μ•   
    - JWTλ” ν΄λΌμ΄μ–ΈνΈλ‚ κ³µκ²©μκ°€ μμ •ν•μ§€ λ»ν•λ„λ΅ λ³΄νΈν•λ” λΉ„λ°€(HMAC) λλ” κ³µκ°/κ°μΈ ν‚¤ μ(RSA λλ” ECDSA)μ„ μ‚¬μ©ν•μ—¬ λ””μ§€ν„Έ μ„λ…λ©λ‹λ‹¤.
- ν΄λΌμ΄μ–ΈνΈμ—λ§ μ €μ¥ 
    - μ„λ²„μ—μ„ JWTλ¥Ό μƒμ„±ν•μ—¬ ν΄λΌμ΄μ–ΈνΈλ΅ λ³΄λƒ…λ‹λ‹¤. κ·Έλ° λ‹¤μ ν΄λΌμ΄μ–ΈνΈλ” λ¨λ“  μ”μ²­κ³Ό ν•¨κ» JWTλ¥Ό μ μ¶ν•©λ‹λ‹¤. μ΄λ ‡κ² ν•λ©΄ λ°μ΄ν„°λ² μ΄μ¤ κ³µκ°„μ΄ μ μ•½λ©λ‹λ‹¤.
- ν¨μ¨μ /μƒνƒ λΉ„μ €μ¥ 
    - λ°μ΄ν„°λ² μ΄μ¤ μ΅°νκ°€ ν•„μ”ν•μ§€ μ•μΌλ―€λ΅ JWTλ¥Ό λΉ λ¥΄κ² ν™•μΈν•  μ μμµλ‹λ‹¤. 
    - μ΄λ” λ€κ·λ¨ λ¶„μ‚° μ‹μ¤ν…μ—μ„ νΉν μ μ©ν•©λ‹λ‹¤.
    - λ§μ΄ν¬λ΅ μ„λΉ„μ¤κ°€ λ§μ„ λ• μ‚¬μ©ν•λ©΄ μΆ‹μµλ‹λ‹¤.

### β—οΈ λ‹¨μ 

- μ·¨μ† λ¶κ°€λ¥
    - μμ²΄ ν¬ν•¨λ νΉμ„±κ³Ό μƒνƒ λΉ„μ €μ¥ ν™•μΈ ν”„λ΅μ„Έμ¤λ΅ μΈν•΄ JWTκ°€ μμ—°μ¤λ½κ² λ§λ£λκΈ° μ „μ— μ·¨μ†ν•λ” κ²ƒμ΄ μ–΄λ ¤μΈ μ μμµλ‹λ‹¤.
    - λ”°λΌμ„ μ‚¬μ©μλ¥Ό μ¦‰μ‹ μ°¨λ‹¨ν•λ” λ“±μ μ΅°μΉλ” μ‰½κ² κµ¬ν„λ’¬ μ μ—†μµλ‹λ‹¤. 
        - jwtλ¥Ό νƒμ·¨ λ‹Ήν•λ©΄ μ΅°μΉκ°€ μ–΄λ µμµλ‹λ‹¤.  
        - JWT λΈ”λ™λ¦¬μ¤νΈλ¥Ό λ§λ“¤μ–΄μ„ λ³΄μ•μ„ κ°•ν™”ν•λ” λ°©λ²•μ΄ μμ§€λ§ μ΄λ ‡κ² ν•λ©΄ μ„Έμ…λ°©μ‹κ³Ό ν° μ°¨μ΄κ°€ μ—†κ² λ©λ‹λ‹¤.
        - κ·Έλ‚λ§ λ³΄μ™„ν•  μ μλ” κ²ƒμ€ ν† ν° λ§λ£μ‹κ°„μ„ μ§§κ² μ΅λ” κ²ƒ μ…λ‹λ‹¤.

μ”μ•½ν•λ©΄ JWTλ” μ‚¬μ©μλ¥Ό μ¦‰μ‹ μ°¨λ‹¨ν•λ” λ“±μ μ‘μ—…μ΄ ν•„μ”ν•μ§€ μ•μ€ λ€κ·λ¨ μ•±μ— κ°€μ¥ μ μ©ν•©λ‹λ‹¤.

<br>
<br>

---


### π“ Reference

- [JWT - Json Web Token](https://www.daleseo.com/jwt/)
- [μ•κ³  μ“°μ, JWT(Json Web Token)](https://velog.io/@chuu1019/%EC%95%8C%EA%B3%A0-%EC%93%B0%EC%9E%90-JWTJson-Web-Token)
- [https://docs.flutterflow.io/data-and-backend/firebase/authentication/jwt-token](https://docs.flutterflow.io/data-and-backend/firebase/authentication/jwt-token)
- [Introduction to JSON Web Tokens](https://jwt.io/introduction)
- [Understanding JSON Web Tokens (JWT): A Secure Approach to Web Authentication](https://medium.com/@extio/understanding-json-web-tokens-jwt-a-secure-approach-to-web-authentication-f551e8d66deb)
