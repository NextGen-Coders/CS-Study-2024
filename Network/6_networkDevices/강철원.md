# 🖥️ 네트워크 기기

앞선 정리에서 OSI 7계층을 배워보았습니다.  
이번시간에는 1계층, 2계층 3계층의 어떤 네트워크 장비가 있는지 알아보겠습니다.    
원래는 4계층 장비도 있는데 서버까지 알아야 이해가 가능합니다. 또한 5계층 이상부터는  더 추상적인 기능을 다룹니다. 이 계층들은 데이터의 표현,관리,처리 및 최종 사용자와의 인터페이스와 관련된 기능에 초점을 맞추고 있습니다. 이러한 기능들은 소프트웨어에 의해 주로 구현되며, 구체적인 물리적 장비로 표현되지 않습니다. 따라서 이번 글에서는 1~3계층까지만 알아보겠습니다.

<br>

## 1️⃣ 물리 계층

### 1) 리피터(증폭기)

- 근거리 통신망을 구성하는 세그먼트들을 확장하거나 서로 연결하는데 주로 사용합니다.
- 신호를 수신하여 `신호를 증폭`한 후 다음 구간으로 재전송하는 장치를 말합니다.
- 전자기장 확산이나 케이블 손실로 인한 신호 감쇠를 보상해 주기 때문에, 여러 대의 `리피터를 써서 신호를 먼 거리까지 데이터를 전달하는 것이 가능합니다.`
- 허브, 스우치, 브릿지에서도 증폭기능이 있기 때문에 요즘에는 거의 사용하지 않습니다.

![image](https://github.com/NextGen-Coders/CS-Study-2024/assets/76567238/86a03f28-be03-458d-8a2d-8d0347083118)


>❓세그먼트   
>브리지, 라우터, 허브 또는 스위치 등에 의해 묶여있는 네트워크의 한 부분을 말합니다.

### 2) 허브

#### 허브란?
- 리피터와 마찬가지로 `전기적 신호를 증폭`합니다.
- 다수의 PC와 장치들을 묶어서 LAN을 구상할 때 각각의 PC에 연결된 노들을 `한곳으로 모으는 역할`을 해주는 장치입니다.
- 중심축에 놓여 여러 컴퓨터들을 연결해 네트워크를 만들어주는 역할

#### 허브의 작동 원리 

허브는 단순히 중계기 역할만 합니다. 컴퓨터가 A가 컴퓨터 B로 신호를 보내면, 그 신호는 B한테만 가는게 아니라 연결된 모든 컴퓨터로 전송합니다.  (즉 모든 신호를 브로드캐스트합니다.)

>❓ 브로드캐스트 (Broadcast)   
메시지가 한 호스트에서 망상의 다른 모든 호스트로 전송되는 패킷

<img width="360" alt="image" src="https://github.com/NextGen-Coders/CS-Study-2024/assets/76567238/1412f565-5460-4131-b735-752b6a143ddb">

<br>

## 2️⃣ 데이터 링크 계층

허브, 브릿지, 스위치 모두 같은 네트워크 대역을 연결하지만, Collistion domain(충돌 영역)에 차이가 있습니다.    

### 1) 브릿지

브릿지는 데이터 링크 계층의 네트워크 장비로, 두 개 이상의 네트워크 세그먼트를 연결하는 역할을 합니다.     

이 장비의 주요 기능은 다음과 같습니다.

- 프레임 필터링(Filtering)
    -  브릿지는 네트워크 트래픽을 관리하고, 필요한 트래픽만 다른 세그먼트로 전달합니다. 이를 통해 네트워크의 효율성을 높이고, 불필요한 트래픽으로부터 네트워크를 보호합니다.
-  MAC 주소 학습(Learning)
    -  브릿지는 연결된 장치들의 MAC 주소를 학습하고, 이 정보를 이용하여 데이터 패킷을 올바른 목적지로 전달합니다. 이 과정은 네트워크의 효율성을 높이고, 오류를 줄이는 데 중요한 역할을 합니다.
- 콜리전 도메인 불리(Collision Domain Separation)
    - 브릿지는 네트워크 내에서 충돌 도메인을 분리하여, 한 세그먼트에서 발생한 문제가 다른 세그먼트로 확산되는 것을 방지합니다. 이를 통해 전체 네트워크의 안정성과 성능을 향상시킬 수 있습니다.

브릿지는 이러한 기능들을 통해 네트워크의 효율성과 안정성을 향상시키는 중요한 역할을 합니다. 오늘날 브릿지는 스위치라는 더 고급화된 장비에 그 기능이 통합되어 널리 사용되고 있습니다.  

### 2) 스위치

<img width="621" alt="image" src="https://github.com/NextGen-Coders/CS-Study-2024/assets/76567238/3e9d1321-5aff-403b-ad1f-1b6cf0ef2623">


네트워크 스위치는 OSI 모델에서 2계층 데이터 링크 계층에서 동작하는 물리 장비이다. 네트워크 스위치는 물리 포트에 연결된 디바이스가 보낸 패킷을 받아서 패킷이 도달하려는 다른 디바이스로 전달(Forward)합니다. 라우팅이 일어나는 3계층 네트워크 계층에서도 운영할 수 있습니다.

스위치는 이더넷(Ethernet)이나 파이버 채널(fibre Channel), ATM, 인피니밴드 등을 기반으로 하는 네트워크의 공통된 요소이지만, 오늘날 스위치 대부분은 이더넷을 사용합니다. 이 때문에 네트워크 스위치 또는 스위치는 이더넷 스위치를 의미하는 경우가 많습니다.

스위치의 주요 기능과 특징은 다음과 같습니다.

- MAC 주소 기반 전달: 스위치는 연결된 장치들의 MAC 주소를 학습하여, 데이터 패킷을 해당 MAC 주소를 가진 목적지로 정확하게 전달합니다. 이를 통해 네트워크의 효율성과 성능을 높입니다.

- 콜리전 도메인 감소: 스위치는 각 연결 포트를 개별 콜리전 도메인으로 취급합니다. 이는 네트워크 내의 데이터 충돌을 줄이고, 전체적인 네트워크 성능을 향상시킵니다.

- 프레임 필터링 및 전달: 스위치는 네트워크 트래픽을 관리하며, 필요한 트래픽만 선택적으로 전달합니다. 이를 통해 네트워크의 부하를 감소시키고 효율을 높일 수 있습니다.

- 스위칭 메커니즘: 스위치는 스토어-앤드-포워드, 컷-스루, 프래그먼트-프리 등 다양한 스위칭 메커니즘을 사용할 수 있습니다. 이들 각각은 네트워크의 특성과 요구에 따라 최적의 성능을 제공합니다.

- VLAN 지원: 많은 스위치는 VLAN(가상 LAN)을 지원하여, 물리적 위치와 상관없이 네트워크를 논리적으로 분리할 수 있습니다. 이를 통해 보안을 강화하고 네트워크 관리를 간소화할 수 있습니다.

- 풀 듀플렉스 운용: 현대의 스위치는 풀 듀플렉스 모드를 지원하여, 동시에 데이터를 송수신할 수 있습니다. 이는 네트워크의 데이터 처리량을 크게 향상시킵니다.

>❓스위치와 허브의 차이   
>네트워크 장비 중 허브(Hub) 역시 여러 디바이스를 함께 연결해 자원을 공유할 수 있으며, 허브 한 대에 연결된 디바이스의 집합을 LAN 세그먼트라고 부릅니다.

허브와 스위치의 차이점은 연결된 디바이스 한 대에서 전송한 패킷이 허브에 연결된 모든 디바이스로 전달됩니다. 이를 브로드캐스트(Broadcast) 방식이라고 합니다. 반면 스위치는 목적지 디바이스로 이어지는 포트로만 패킷을 보냅니다.

보통 스위치는 LAN 세그먼트에 연결되고, 그래서 허브 역시 스위치에 연결합니다. 스위치는 같은 LAN 세그먼트 상에서 목적지 디바이스로 가는 트래픽을 걸러낼 수 있습니다. 이 기능 때문에 스위치는 네트워크 대역폭은 물론, 자체의 처리 성능도 더 효율적으로 활용할 수 있습니다.

<br>

## 3️⃣ 네트워크

### 라우터

3계층에서 동작하는 여러 네트워크 장비 중 대표격으로 경로를 지정해주는 장비입니다.
라우터에 들어오는 `패킷의 목적지 IP 주소를 확인`하고, `자신이 가진 경로 정보를 이용해 패킷을 최적의 경로로 포워딩`합니다.

원격지 네트워크와 연결할 때, 필수 네트워크 장비이며 네트워크를 구성하는 핵심 장비입니다. 라우터처럼 3계층에서 동작하는 스위치를 L3 스위치라고도 하는데 최근 기술 발달로 라우터와 L3스위치를 구분하기 어렵습니다.

주요 기능과 특징은 다음과 같습니다.

- 경로 결정(Routing): 라우터는 데이터 패킷이 목적지까지 도달할 수 있는 최적의 경로를 결정합니다. 이를 위해 라우터는 라우팅 테이블을 사용하여, 다양한 네트워크 경로와 목적지의 주소 정보를 저장하고 관리합니다.

- IP 주소 기반 전달: 라우터는 IP 주소를 기반으로 데이터 패킷을 전달합니다. 각 패킷의 목적지 IP 주소를 확인하여, 해당 패킷을 올바른 네트워크 인터페이스로 전달합니다.

- 네트워크 간 연결: 라우터는 서로 다른 물리적 및 논리적 네트워크를 연결합니다. 예를 들어, LAN과 WAN, 인터넷과 내부 네트워크 간 연결을 가능하게 합니다.

- 트래픽 관리 및 제어: 라우터는 네트워크 트래픽을 관리하고 제어하여, 네트워크 혼잡을 줄이고 데이터 전송의 효율성을 높입니다.

- 보안 기능: 많은 라우터는 방화벽 기능을 내장하고 있어, 외부의 불법 접근으로부터 네트워크를 보호합니다. 또한, VPN(가상 사설망)을 지원하여 원격 접속의 보안을 강화할 수 있습니다.

- 동적 라우팅 프로토콜 지원: 라우터는 OSPF, BGP와 같은 동적 라우팅 프로토콜을 지원하여, 네트워크의 변화에 신속하게 대응하고, 최적의 경로를 동적으로 결정할 수 있습니다.

>❓라우터가 등장한 이유   
>라우터가 등장한 이유는 스위치의 단점인 `브로드캐스트 처리`때문입니다. 스위치는 브로드캐스트로 들어온 패킷을 들어온 포트를 제외한 나머지 모든 포트로 뿌립니다. 이 문제는 멀리 있는 아프리카에서 컴퓨터를 한번 껐다 키면 한국까지 패킷이 전달될 수 있다는 의미입니다.(컴퓨터가 켜지면서 인터넷에 연결될 때 ARP를 수행합니다.) 이러한 브로드캐스트는 CPU 성능을 저하시키기 때문에 반드시 구분해줄 필요가 있습니다. 


<br>

---

### 📚 Reference

- [허브란? 스위치란? 리피터란?](https://m.blog.naver.com/doctor-kick/221963899838)
- [리피터란?](https://blog.naver.com/ahnsh09/40168530159)
- [네트워크 스위치의 역할과 동작방식](https://www.itworld.co.kr/howto/259714)
- [네트워크 장비에 대해여](https://movefast.tistory.com/103)
